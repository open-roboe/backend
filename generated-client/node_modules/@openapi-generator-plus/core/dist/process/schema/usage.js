"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transformNativeTypeForUsage = exports.createSchemaUsage = void 0;
const native_type_1 = require("../../native-type");
const utils_1 = require("../utils");
function createSchemaUsage(schema, options, state) {
    const result = Object.assign(Object.assign(Object.assign({}, (0, utils_1.extractCodegenSchemaInfo)(schema)), options), { schema, examples: null, defaultValue: null });
    result.nativeType = transformNativeTypeForUsage(result, state);
    return result;
}
exports.createSchemaUsage = createSchemaUsage;
function transformNativeTypeForUsage(usage, state) {
    const usageTransformer = state.generator.nativeTypeUsageTransformer(usage);
    return new native_type_1.CodegenTransformingNativeTypeImpl(usage.schema.nativeType, usageTransformer);
}
exports.transformNativeTypeForUsage = transformNativeTypeForUsage;
