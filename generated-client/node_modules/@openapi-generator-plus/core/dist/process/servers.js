"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toCodegenServers = void 0;
const openapi_type_guards_1 = require("../openapi-type-guards");
const vendor_extensions_1 = require("./vendor-extensions");
function toCodegenServers(schema) {
    if ((0, openapi_type_guards_1.isOpenAPIV2Document)(schema)) {
        const schemes = schema.schemes || ['http', 'https'];
        if (schema.host) {
            return schemes.map(scheme => ({
                url: `${scheme}://${schema.host}${schema.basePath ? schema.basePath : '/'}`,
                description: null,
                vendorExtensions: null,
            }));
        }
        else {
            return null;
        }
    }
    else if ((0, openapi_type_guards_1.isOpenAPIServersContainer)(schema) && schema.servers) {
        return schema.servers.map(server => ({
            url: server.url,
            description: server.description || null,
            vendorExtensions: (0, vendor_extensions_1.toCodegenVendorExtensions)(server),
        }));
    }
    else {
        return null;
    }
}
exports.toCodegenServers = toCodegenServers;
